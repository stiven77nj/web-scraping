# ğŸ“¦ API REST - Web Scraping

Esta API REST construida con **Express.js** permite realizar **peticiones GET** para ejecutar procesos de **web scraping** sobre distintas pÃ¡ginas, cada una representada por un endpoint especÃ­fico. Actualmente se utiliza para extraer informaciÃ³n de las plataformas **Mercately** y **ApiCrops**.

## ğŸš€ TecnologÃ­as utilizadas

- **Express.js** â€“ Framework para construir la API REST.
- **Puppeteer** â€“ LibrerÃ­a de Node.js que permite automatizar el navegador para realizar scraping.
- **Docker** â€“ Contenedor para ejecutar la aplicaciÃ³n de forma portable.
- **SQL Server** â€“ Base de datos relacional para almacenar la informaciÃ³n extraÃ­da.

## ğŸŒ PÃ¡ginas objetivo de scraping

Se accede al CRM de Mercately para descargar datos de clientes automÃ¡ticamente:

> [https://app.mercately.com/login](https://app.mercately.com/login)

Se accede a la pÃ¡gina para extraer informacion del clima y de suelo:

> [https://web.instacrops.com](https://web.instacrops.com)

## âš™ï¸ Estructura del Proyecto

- /api
- /config
- /downloads
- /src
- .env # Variables de entorno (credenciales, configuraciones)
- Dockerfile # Imagen de Docker para contener la app

## ğŸ“¦ InstalaciÃ³n

1. Clona el repositorio:

```bash
$ git clone https://github.com/tu_usuario/web-scraping-mercately-api.git
$ cd web-scraping-mercately-api
```

2. Instala las dependencias:

```bash
npm install
```

3. Configura el archivo .env:

```bash
MERCATELY_USER=tu_usuario
MERCATELY_PASSWORD=tu_contraseÃ±a
SQLSERVER_HOST=localhost
SQLSERVER_USER=sa
SQLSERVER_PASSWORD=tu_password
SQLSERVER_DATABASE=NombreDB
```

4. Ejecuta la API localmente:

```bash
npm run dev
```

## ğŸ³ Uso con Docker

```bash
docker build -t scraping-api .
docker run -p 3000:3000 scraping-api
```

## ğŸ”Œ Endpoints disponibles

- GET /api/mercately â€“ Ejecuta el proceso de scraping para obtener informe clientes desde Mercately.

## ğŸ—ƒï¸ Base de datos

Los datos extraÃ­dos se almacenan automÃ¡ticamente en una instancia de SQL Server.

## Estado actual

- âœ… Estado actual
- âœ… Login automatizado con Puppeteer
- âœ… Descarga de archivo Excel desde CRM
- âœ… Parseo del archivo y carga en SQL Server
- âœ… Soporte para mÃºltiples plataformas
- âŒ› Manejo de errores mÃ¡s robusto
- âŒ› Testing automatizado